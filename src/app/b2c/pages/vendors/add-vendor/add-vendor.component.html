<div class="container-fluid">
    <!-- DataTales Example -->
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <div class="row">
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-md-6" *ngIf="role != 'SAdmin'">
                            <h6 class="m-0 heading_title  text-primary">ADD LOAN</h6>
                        </div>
                        <div class="col-md-6 text-right">
                            <button class="btn back_button" (click)="history.back()"><span
                                    class="fas fa-arrow-left"></span> Back</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-body">
            <form #vendorForm="ngForm">
                <!-- <div class="form-group">
                    <label>Image</label><br>
                    <input type="file" name="photo" (change)="onImageSelect($event)">
                    <div *ngIf="src" class="mt-3">
                        <img [src]="src?imageUrl+src:defaultImage" width="100px" height="100px">
                    </div>
                </div> -->
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Select Borrower</label>
                            <select name="category"  class="form-control" [(ngModel)]="borrower"  (change)="changeWebsite($event)" required>
                                <option value="" disabled>Select Category</option>
                                <option *ngFor="let item of borrowerdata" [value]="item.id">{{item.name}}
                                </option>
                                <!-- <option  value="2">Brro2
                                </option> -->
                            </select>
                        </div>
                    </div>
                   
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Loan Category</label>
                            <input type="text" name="text" maxlength="50"
                              [(ngModel)]="category"
                                class="form-control" placeholder="category" required />
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Loan principle Amount</label>
                            <input type="text" name="text" maxlength="50"
                                [(ngModel)]="amount"
                                class="form-control" placeholder="Amount" required />
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Select Rate-Type</label>
                            <select name="category" class="form-control" [(ngModel)]="ratetype" required>
                                <option value="" disabled>Select Rate</option>
                                <option  value="m">Monthly
                                </option>
                                <option  value="w">Weekly
                                </option>
                            </select>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Rate(%)</label>
                            <input type="text" name="month" maxlength="50"
                            [(ngModel)]="Rate"  (keyup)="getinterestvalue()"
                            class="form-control" placeholder="Month" required />
                        </div>
                    </div>

                 <div class="col-md-6">
                    <div class="form-group">
                        <label>Maintenance charges</label>
                        <input type="text" name="text" maxlength="50"
                                [(ngModel)]="charges"
                                class="form-control" placeholder="Charges" required />
                    </div>
                </div>
             
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Installment day*</label>
                        <input type="number" name="text" maxlength="50"
                                [(ngModel)]="installment"
                                class="form-control" placeholder="installment" required />
                    </div>
                </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Start Date</label>
                            <input type="date" name="date"
                            [min]="startMinDate" 
                            [(ngModel)]="date" (change)="datepicker($event)"
                            class="form-control"  required />
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>End Date</label>
                            <input type="date" [min]="endDate" name="enddate" 
                            [(ngModel)]="enddate" disabled
                            class="form-control" required />
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Interest(%)</label>
                            <input type="text" name="interest" maxlength="50"
                            [(ngModel)]="interest"
                            class="form-control" placeholder="Interest" required />
                           </div>
                        </div>
    
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Description</label>
                                <textarea name="bio" rows="3"
                                [(ngModel)]="description" class="form-control" required >
                            </textarea>
                            </div>
                        </div>
                        <!-- <div class="col-md-6">
                            <div class="form-group">
                                <label>Location</label>
                                <input type="text" class="form-control" name='address' (keydown.enter)="$event.preventDefault()" [(ngModel)]="body.address" placeholder="Search Nearest Location" autocorrect="off" autocapitalize="off" spellcheck="off" type="text" #search required>  
                                <div class="mt-1">
                                    <agm-map [latitude]="latitude" [longitude]="longitude" [zoom]="zoom">
                                      <agm-marker [latitude]="latitude" [longitude]="longitude" [markerDraggable]="true"
                                       (dragEnd)="markerDragEnd($event)"></agm-marker>
                                    </agm-map>
                                  
                              </div>  
                            </div>
                        </div> -->
                   
                </div>
                <div class="row mt-2">
                    <div class="col-md-12">
                        <button class="btn btn-primary" [disabled]="!vendorForm.valid || flags.isAdded"
                            (click)="addVendor()">
                            <span class="fas fa-save"></span>
                            {{flags.isAdded?'Saving...':'Save'}}
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>